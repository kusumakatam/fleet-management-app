<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
</head>
<style>
    body{
        font-family: Arial, sans-serif;
        display:flex;
        margin:0;

    }
    nav{
        width:100%;
        padding: 10px;
        background:#eee;
    }
    aside{
        width: 220px;
        padding: 10px;
        background:#e4e1e1;
    }
    main{
        flex:1;
        display: flex;
        flex-wrap: wrap;
        gap:10px;
        padding:10px;

    }
    .card{
        border:1px solid #ece2e2;
        padding:10px;
        width:calc(33%-20px);
        box-shadow: 2px 2px 5px #aaa;
        

    }
    .card img {
    width: 410px;
    height: 200px;
    object-fit: cover;
    border-radius: 5px;
}
</style>
<body>
    <nav>
        <label>Category Filter:
            <select id="categoryFilter">
                <option value="All">All</option>
                <option value="Auto">Auto</option>
                <option value="Car">Car</option>
                <option value="Truck">Truck</option>
                <option value="Bus">Bus</option>
            </select>
        </label>
        <label>Availability Filter:
            <select id="availabilityFilter">
                <option value="All">All</option>
                <option value="Available">Available</option>
                <option value="Unavailable">Unavailable</option>
     
            </select>
        </label>
        <button id="clearFilter">Clear Filter</button>
    </nav>
    <aside>
        <h3>Add Fleet</h3>
        <input type="text" id="regNo" placeholder="Reg No" required><br><br>
        <select id="category">
                <option value="Select Category">All</option>
                <option value="Auto">Auto</option>
                <option value="Car">Car</option>
                <option value="Truck">Truck</option>
                <option value="Bus">Bus</option>
            </select><br><br>
         <input type="text" id="driver" placeholder="Driver Name" required><br><br>
         <select id="availability">
                <option value="Available">Available</option>
                <option value="Unavailable">Unavailable</option>
     
        </select><br><br>
        <button id="addFleetBtn">Add Fleet</button>

    </aside>
    <main id="fleetCards"></main>
    <script>
        let fleetData=[];
        function renderCards(data){
            const main=document.getElementById('fleetCards');
            main.innerHTML='';
            data.forEach((fleet,index) => {
                const card=document.createElement('div');
                card.className='card';
                card.innerHTML=`
                <img src="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png" alt="Vehicle Image">
                <h4>Reg No: ${fleet.regNo}</h4>
                <p>Category:${fleet.category}</p>
                <p>Driver:${fleet.driver}</p>
                <p>Availability:${fleet.availability}</p>
                <button onclick="updateDriver(${index})">Update Driver</button>
                 <button onclick="toggleAvailability(${index})">Change Availability</button>
                  <button onclick="deleteFleet(${index})">Delete Vehicle</button>

                `;
                main.appendChild(card);
            });

        }
        document.getElementById('addFleetBtn').addEventListener('click',function(){
            const regNo=document.getElementById('regNo').value.trim();
            const category=document.getElementById('category').value;
            const driver=document.getElementById('driver').value.trim();
            const availability=document.getElementById('availability').value;
            if(!regNo || !category || !driver){
                alert('Please fill all required fields');
                return;
            }
            fleetData.push({regNo, category, driver, availability});
            renderCards(fleetData);
            document.getElementById('regNo').value='';
            document.getElementById('category').value='';
            document.getElementById('driver').value='';
            document.getElementById('availability').value='Available';
        
        });
        function updateDriver(index){
            const newDriver=prompt('Enter new driver name:').trim();
            if(newDriver){
                fleetData[index].driver=newDriver;
                renderCards(fleetData);

            }else{
                alert('Driver name cannot be empty');
            }
        }
        function toggleAvailability(index){
             fleetData[index].availability=fleetData[index].availability === 'Available' ? 'Unavailable' : 'Available';
                renderCards(fleetData);
            
        }
         function deleteFleet(index){
            if(confirm('Are you sure you want to delete this vehicle?')){
             fleetData.splice(index,1);
                renderCards(fleetData);
            
        }
    }
    document.getElementById('categoryFilter').addEventListener('change', applyFilters);
     document.getElementById('availabilityFilter').addEventListener('change', applyFilters);
      document.getElementById('clearFilter').addEventListener('click', function(){
         document.getElementById('categoryFilter').value='All';
          document.getElementById('availabilityFilter').value='All';
          renderCards(fleetData);
      });
      function applyFilters(){
         const category=document.getElementById('categoryFilter').value;
         const availability=document.getElementById('availabilityFilter').value;
         let filtered=fleetData;
         if(category!== 'All'){
            filtered=filtered.filter(f => f.category === category);
         } 
          if(availability!== 'All'){
            filtered=filtered.filter(f => f.availability === availability);
         } 
          renderCards(filtered);
        }

   </script>
    
</body>
</html>